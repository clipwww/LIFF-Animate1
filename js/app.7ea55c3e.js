!function(e){function t(t){for(var a,o,s=t[0],c=t[1],u=t[2],d=0,f=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&f.push(i[o][0]),i[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);for(l&&l(t);f.length;)f.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(a=!1)}a&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},i={app:0},r=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/liff-anime1/";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;r.push([0,"chunk-vendors"]),n()}({0:function(e,t,n){e.exports=n("cd49")},"0613":function(e,t,n){"use strict";var a=n("5530"),i=(n("96cf"),n("1da1")),r=n("2b0e"),o=n("2f62"),s=n("7f7f");r.default.use(o.a),t.a=new o.a.Store({state:{isLoading:!1,isLoggedIn:!1,profile:null},mutations:{UPDATE_LOADING:function(e,t){e.isLoading=t},UPDATE_LOGGED_IN:function(e,t){e.isLoggedIn=t},UPDATE_PROFILE:function(e,t){e.profile=t}},actions:{updateLoading:function(e,t){(0,e.commit)("UPDATE_LOADING",t)},updateLoggedIn:function(e){(0,e.commit)("UPDATE_LOGGED_IN",window.liff.isLoggedIn())},updateProfile:function(e){var t=e.commit,n=e.state;return Object(i.a)(regeneratorRuntime.mark((function e(){var i,r,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.isLoggedIn){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,window.liff.getProfile();case 4:return i=e.sent,e.next=7,s.b.child("user-".concat(i.userId)).once("value");case 7:r=e.sent,o=r.val(),c=Object(a.a)({},i,{},o,{deviceInfo:{os:window.liff.getOS(),lang:window.liff.getLanguage(),userAgent:window.navigator.userAgent},dateUpdated:+new Date}),s.b.child("user-".concat(i.userId)).set(c),t("UPDATE_PROFILE",c);case 12:case"end":return e.stop()}}),e)})))()}},getters:{isLoading:function(e){return e.isLoading},isLoggedIn:function(e){return e.isLoggedIn&&window.liff.isLoggedIn()},profile:function(e){return e.profile||{pictureUrl:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"}}},modules:{}})},"08ba":function(e,t,n){"use strict";var a={};n.r(a),n.d(a,"getList",(function(){return f})),n.d(a,"getBangumi",(function(){return p})),n("96cf");var i,r=n("1da1"),o=n("bc3a"),s=n.n(o),c=n("5c96");!function(e){e.success="200",e.clientError="400",e.forbidden="403",e.serverError="500"}(i||(i={}));var u=n("0613"),l=function(){var e=s.a.create({timeout:6e4,headers:{"Content-Type":"application/json"}});function t(){return(t=Object(r.a)(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.request(n).then((function(e){return e.data})).catch((function(e){return{code:i.clientError,message:e.message}})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return e.interceptors.request.use((function(e){e.ignoreErrorMessage;var t=e.ignoreLoader;return void 0!==t&&t||u.a.dispatch("updateLoading",!0),e}),(function(e){u.a.dispatch("updateLoading",!1)})),e.interceptors.response.use((function(e){var t=e.config,n=t.ignoreErrorMessage,a=void 0!==n&&n,i=t.ignoreLoader,r=void 0!==i&&i,o=e.data,s=o.success,l=(o.resultCode,o.resultMessage);return r||u.a.dispatch("updateLoading",!1),s||a||c.Notification.error({title:"Oops",message:l,dangerouslyUseHTMLString:!0,duration:5e3}),e}),(function(e){u.a.dispatch("updateLoading",!1),c.Notification.error({title:"Oops",message:e.message,dangerouslyUseHTMLString:!0,duration:5e3})})),{request:function(e){return t.apply(this,arguments)}}}(),d="https://clipwww-nuxt-express-project.herokuapp.com/api/anime1";function f(){return m.apply(this,arguments)}function m(){return(m=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l.request({method:"GET",url:"".concat(d,"/list")}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return g.apply(this,arguments)}function g(){return(g=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l.request({method:"GET",url:"".concat(d,"/bangumi/").concat(t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n.d(t,"a",(function(){return a}))},"0e7e":function(e,t,n){"use strict";n.r(t),n("4160"),n("caad"),n("ac1f"),n("2532"),n("5319"),n("159b");var a=n("5530"),i=n("c1df"),r=n.n(i),o=n("7f7f"),s=n("37c9"),c={data:function(){return{TABLE_DEFAULT_PROPS:s.b,bangumiList:[]}},created:function(){this.getBangumiList()},methods:{getBangumiList:function(){var e=this;o.b.once("value",(function(t){var n=[];t.forEach((function(e){if(e.key.includes("bangumi-")){var t=e.val(),i=t.id||e.key.replace("bangumi-","");n.push(Object(a.a)({},t,{id:i,title:t.title||i}))}})),e.bangumiList=n.sort((function(e,t){return r()(e.dateCreated).isBefore(t.dateCreated)?1:-1}))}))}}},u=n("2877"),l=Object(u.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-table",e._b({attrs:{data:e.bangumiList,"row-key":"id","empty-text":"No data"}},"el-table",e.TABLE_DEFAULT_PROPS,!1),[n("el-table-column",{attrs:{type:"expand",width:"30"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("ul",e._l(a.items,(function(t){return n("li",{key:t.id,staticClass:"margin-bt-5"},[n("div",[e._v(e._s(t.name))]),n("span",{staticClass:"little-text"},[e._v(e._s(e._f("formatDate")(t.datePublished)))])])})),0)]}}])}),n("el-table-column",{attrs:{type:"index",label:"#",width:"40",align:"center"}}),n("el-table-column",{attrs:{label:"標題",prop:"title"}}),n("el-table-column",{attrs:{label:"最後更新時間"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[e._v(e._s(e._f("formatDate")(n.dateCreated)))]}}])})],1)],1)}),[],!1,null,"2020c03a",null);t.default=l.exports},"175a":function(e,t,n){},"1a5d":function(e,t,n){var a={"./Admin/Bangumi.vue":"0e7e","./Admin/Dashboard.vue":"a761","./Admin/Layout.vue":"a8f3","./Admin/User.vue":"7455","./Bangumi.vue":"65d2","./Home.vue":"bb51"};function i(e){return Promise.resolve().then((function(){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n(a[e])}))}i.keys=function(){return Object.keys(a)},i.id="1a5d",e.exports=i},"1b75":function(e,t,n){"use strict";var a=n("37b8");n.n(a).a},"1e82":function(e,t,n){"use strict";var a=n("d3c0");n.n(a).a},"37b8":function(e,t,n){},"37c9":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n("b0c0");var a=n("2b0e"),i=(n("c1df"),n("5c96"));a.default.component(i.Notification.name,i.Notification),a.default.component(i.Input.name,i.Input),a.default.component(i.Card.name,i.Card),a.default.component(i.Button.name,i.Button),a.default.component(i.Divider.name,i.Divider),a.default.component(i.Timeline.name,i.Timeline),a.default.component(i.TimelineItem.name,i.TimelineItem),a.default.component(i.Collapse.name,i.Collapse),a.default.component(i.CollapseItem.name,i.CollapseItem),a.default.component(i.PageHeader.name,i.PageHeader),a.default.component(i.Tag.name,i.Tag),a.default.component(i.Dialog.name,i.Dialog),a.default.component(i.Avatar.name,i.Avatar),a.default.component(i.Tooltip.name,i.Tooltip),a.default.component(i.Switch.name,i.Switch),a.default.component(i.Link.name,i.Link),a.default.component(i.Drawer.name,i.Drawer),a.default.component(i.Menu.name,i.Menu),a.default.component(i.MenuItem.name,i.MenuItem),a.default.component(i.Table.name,i.Table),a.default.component(i.TableColumn.name,i.TableColumn),a.default.use(i.Loading.directive),a.default.use(i.InfiniteScroll),a.default.prototype.$notify=i.Notification;var r={"custom-class":"re-dialog",width:"auto","append-to-body":!0,"close-on-click-modal":!1},o={stripe:!0,border:!0,"highlight-current-row":!0,"row-key":"id"}},"39fa":function(e,t){},4678:function(e,t,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=r,e.exports=i,i.id="4678"},"5c0b":function(e,t,n){"use strict";var a=n("9c0c");n.n(a).a},"65d2":function(e,t,n){"use strict";n.r(t),n("99af"),n("a623"),n("4de4"),n("b0c0"),n("ac1f"),n("5319"),n("96cf");var a=n("1da1"),i=n("c1df"),r=n.n(i),o=n("b6ad"),s=n.n(o),c=n("37c9"),u=n("7f7f"),l=n("08ba"),d=u.a.database().ref("/liff-anime1/"),f={metaInfo:function(){return{title:this.title||"番組"}},data:function(){return{TABLE_DEFAULT_PROPS:c.b,bangumiList:[],currentCount:1,isLoading:!1}},computed:{title:function(){return this.$route.query.name},bangumiId:function(){return this.$route.params.id},filterBangumiList:function(){var e=this;return this.bangumiList.filter((function(t,n){return n<e.currentCount}))}},created:function(){this.getBangumiList()},methods:{goBack:function(){this.$g_logEvent("Click","返回","Back Button"),this.$router.replace({name:"Home"})},getBangumiList:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.next=3,d.child("bangumi-".concat(e.bangumiId)).once("value",(function(t){var a=t.val();a&&(e.bangumiList=a.items,n=e.bangumiList)}));case 3:return t.next=5,l.a.getBangumi(e.bangumiId);case 5:if((a=t.sent).success){t.next=8;break}return t.abrupt("return");case 8:e.bangumiList=a.items,s()(e.bangumiList,n,(function(e,t){return e.length===t.length&&e.every((function(e,n){return e.id===t[n].id}))}))||d.child("bangumi-".concat(e.bangumiId)).set({id:e.bangumiId,title:e.title,items:e.bangumiList,dateCreated:+r()()});case 11:case"end":return t.stop()}}),t)})))()},loadMore:function(){var e=this;this.isLoading=!0,setTimeout((function(){e.currentCount+=2,e.isLoading=!1}),200)},downloadMp4:function(e){var t="https://clipwww-nuxt-express-project.herokuapp.com/api/anime1/download/".concat(e.type,"?url=").concat(e.iframeSrc,"&name=").concat(decodeURIComponent("".concat(e.id,"-").concat(+new Date)));this.$g_logEvent("Click","[".concat(e.type,"] 下載 ").concat(e.name),"Download Button"),window.liff.isInClient()?window.liff.openWindow({url:t,external:!1}):window.open(t)},goAnime1:function(){var e="https://anime1.me/?cat=".concat(this.bangumiId);this.$g_logEvent("Click","前往 ".concat(this.title," Anime1頁面"),"Link Button"),window.liff.isInClient()?window.liff.openWindow({url:e,external:!1}):window.location.href=e},goM3u8OriginPage:function(e){var t=e.iframeSrc;this.$g_logEvent("Click","前往 ".concat(e.name," Anime1 播放器頁面"),"Link Button"),window.liff.isInClient()?window.liff.openWindow({url:t,external:!1}):window.location.href=t}}},m=(n("1b75"),n("2877")),p=Object(m.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bangumi"},[n("el-page-header",{on:{back:e.goBack}},[n("div",{attrs:{slot:"content"},on:{click:e.goAnime1},slot:"content"},[n("el-link",{attrs:{href:"javascript:;",type:"info"}},[e._v("前往 Anime1 原頁面")])],1)]),n("div",{staticClass:"bangumi__list"},[n("el-timeline",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-disabled":e.filterBangumiList.length>=e.bangumiList.length}},[e._l(e.filterBangumiList,(function(t){return n("el-timeline-item",{key:t.id,attrs:{timestamp:e._f("formatDate")(t.datePublished),placement:"top",size:"large",color:"#67C23A"}},[n("el-card",[n("div",{attrs:{slot:"header"},slot:"header"},[n("el-tag",{staticClass:"margin-r-10",attrs:{type:"info",size:"mini",hit:""}},[e._v(e._s(t.type))]),n("span",[e._v(e._s(t.name))])],1),n("el-button",{staticClass:"is-block margin-b-10",attrs:{type:"primary",size:"mini"},on:{click:function(n){return e.downloadMp4(t)}}},[e._v("下載")]),n("el-collapse",[n("el-collapse-item",{attrs:{title:"線上看",name:"1"},on:{click:function(n){return e.$g_logEvent("Click","查閱線上看 "+t.name,"Collapse")}}},[n("div",["mp4"===t.type?n("div",{staticClass:"video-wrapper"},[n("iframe",{attrs:{src:t.iframeSrc}})]):n("div",[n("div",[e._v("m3u8無法😭")]),n("div",{on:{click:function(n){return e.goM3u8OriginPage(t)}}},[n("el-link",{attrs:{href:"javascript:;",type:"info"}},[e._v("直接去原頁面看吧")])],1)])])])],1)],1)],1)})),e.isLoading?n("div",{staticClass:"text-center fs-30"},[n("i",{staticClass:"el-icon-loading"})]):e._e()],2)],1)],1)}),[],!1,null,"264c5e62",null);t.default=p.exports},"70e5":function(e,t,n){"use strict";var a=n("175a");n.n(a).a},7455:function(e,t,n){"use strict";n.r(t),n("4160"),n("caad"),n("2532"),n("159b");var a=n("7f7f"),i=n("37c9"),r={data:function(){return{TABLE_DEFAULT_PROPS:i.b,users:[]}},created:function(){this.getUsers()},methods:{getUsers:function(){var e=this;a.b.once("value",(function(t){var n=[];t.forEach((function(e){e.key.includes("user-")&&n.push(e.val())})),e.users=n}))}}},o=n("2877"),s=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-table",e._b({attrs:{data:e.users,"row-key":"userId","empty-text":"No data"}},"el-table",e.TABLE_DEFAULT_PROPS,!1),[n("el-table-column",{attrs:{type:"expand",width:"30"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("ul",{staticClass:"margin-b-30"},e._l(a.favoriteList,(function(t,a){return n("li",{key:t.id,staticClass:"margin-bt-5"},[e._v(e._s(a+1)+". "+e._s(t.name))])})),0),a.deviceInfo?n("el-card",{staticClass:"margin-bt-30",attrs:{header:"裝置資訊",shadow:"none"}},[n("div",[e._v(" OS: "),n("el-tag",{attrs:{size:"mini",hit:""}},[e._v(e._s(a.deviceInfo.os))])],1),n("div",{staticClass:"margin-bt-10"},[e._v(" Lang: "),n("el-tag",{attrs:{size:"mini",hit:""}},[e._v(e._s(a.deviceInfo.lang))])],1),n("div",[e._v("User Agent: "+e._s(a.deviceInfo.userAgent))])]):e._e(),n("div",{staticClass:"little-text"},[e._v("last updated: "+e._s(e._f("formatDate")(a.dateUpdated)))])]}}])}),n("el-table-column",{attrs:{type:"index",label:"#",width:"40",align:"center"}}),n("el-table-column",{attrs:{label:"暱稱",prop:"displayName"}}),n("el-table-column",{attrs:{label:"大頭貼"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[n("el-avatar",{attrs:{shape:"square",src:t.pictureUrl}})]}}])})],1)],1)}),[],!1,null,"487d728a",null);t.default=s.exports},"7f7f":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var a=n("59ca"),i=n.n(a),r=(n("66ce"),n("e71f"),i.a.initializeApp({apiKey:"AIzaSyDI578qA-BjjSFfxV07GU5V-GLbBledu_Q",authDomain:"my-first-firebase-projec-30d45.firebaseapp.com",databaseURL:"https://my-first-firebase-projec-30d45.firebaseio.com",projectId:"my-first-firebase-projec-30d45",storageBucket:"my-first-firebase-projec-30d45.appspot.com",messagingSenderId:"1018687191918",appId:"1:1018687191918:web:dccdcdc93aedda045e9f7f"})),o=r.database().ref("/liff-anime1/");r.firestore().collection("bangumi")},"9c0c":function(e,t,n){},a41b:function(e,t,n){},a761:function(e,t,n){"use strict";n.r(t);var a=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("img",{attrs:{src:n("d831"),alt:"pepe"}})])}],i={data:function(){return{}}},r=(n("70e5"),n("2877")),o=Object(r.a)(i,(function(){this.$createElement;return this._self._c,this._m(0)}),a,!1,null,"ef5ed984",null);t.default=o.exports},a8f3:function(e,t,n){"use strict";n.r(t);var a={data:function(){return{isDrawerOpen:!1}},computed:{activeIndex:function(){return this.$route.path}}},i=(n("1e82"),n("2877")),r=Object(i.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"nav-icon"},[n("el-button",{attrs:{type:"primary",icon:"el-icon-s-unfold",size:"mini"},on:{click:function(t){e.isDrawerOpen=!0}}})],1),n("div",{staticClass:"admin-container"},[n("router-view")],1),n("el-drawer",{attrs:{visible:e.isDrawerOpen,title:"後台",direction:"ltr",size:"240px"},on:{"update:visible":function(t){e.isDrawerOpen=t}}},[n("el-menu",{attrs:{router:!0,"default-active":e.activeIndex,"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},[n("el-menu-item",{attrs:{index:"/admin"},on:{click:function(t){e.isDrawerOpen=!1}}},[n("i",{staticClass:"el-icon-s-home"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("首頁")])]),n("el-menu-item",{attrs:{index:"/admin/user"},on:{click:function(t){e.isDrawerOpen=!1}}},[n("i",{staticClass:"el-icon-user-solid"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("使用者")])]),n("el-menu-item",{attrs:{index:"/admin/bangumi"},on:{click:function(t){e.isDrawerOpen=!1}}},[n("i",{staticClass:"el-icon-files"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("暫存資料")])]),n("el-menu-item",{attrs:{index:"/"}},[n("i",{staticClass:"el-icon-back"}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("返回前台")])])],1)],1)],1)}),[],!1,null,"114a77d9",null);t.default=r.exports},bb51:function(e,t,n){"use strict";n.r(t),n("99af"),n("a623"),n("4de4"),n("caad"),n("45fc"),n("b0c0"),n("2532"),n("96cf");var a=n("1da1"),i=n("5530"),r=n("2f62"),o=n("e508"),s=(n("a899"),n("c1df")),c=n.n(s),u=n("b6ad"),l=n.n(u),d=n("9b02"),f=n.n(d),m=n("7f7f"),p=n("479f"),g=n.n(p);n("9992");var v=n("08ba"),b={components:{RecycleScroller:o.a},data:function(){return{keyword:"",items:[],isLoading:!1,isIntroMode:"1"!==window.localStorage.getItem("liff-anime1:home-intro"),onlyShowFavorite:"true"===window.localStorage.getItem("liff-anime1:onlyShowFavorite")}},computed:Object(i.a)({},Object(r.c)({isLoggedIn:"isLoggedIn",profile:"profile"}),{filterItems:function(){var e=this;return this.items.filter((function(t){return!e.isLoggedIn||!e.onlyShowFavorite||e.isFavorite(t.id)})).filter((function(t){return!e.keyword||t.name.includes(e.keyword)}))}}),watch:{isIntroMode:function(e){var t,n;e&&(this.$g_logEvent("教學","開啟教學","「".concat(null!==(t=null===(n=this.profile)||void 0===n?void 0:n.displayName)&&void 0!==t?t:"--","」開啟教學了")),this.initIntro())},onlyShowFavorite:function(e){window.localStorage.setItem("liff-anime1:onlyShowFavorite",e)}},created:function(){this.getAni1List(),this.isIntroMode&&this.initIntro()},methods:Object(i.a)({},Object(r.b)({updateProfile:"updateProfile"}),{getAni1List:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.next=3,m.b.child("list").once("value",(function(t){var a=t.val();a&&(e.items=a.items,n=e.items)}));case 3:return t.next=5,v.a.getList();case 5:if((a=t.sent).success){t.next=8;break}return t.abrupt("return");case 8:e.items=a.items,l()(e.items,n,(function(e,t){return e.length===t.length&&e.every((function(e,n){return e.id===t[n].id}))}))||m.b.child("list").set({items:e.items,dateCreated:+c()()});case 11:case"end":return t.stop()}}),t)})))()},isFavorite:function(e){return!!this.isLoggedIn&&f()(this.profile,"favoriteList",[]).some((function(t){return t.id===e}))},toggleFavorite:function(e){var t=this;return Object(a.a)(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.isLoggedIn){n.next=4;break}return t.$emit("onLogin"),t.$g_logEvent("Click","需要登入","Favorite Button"),n.abrupt("return");case 4:return n.prev=4,a=t.isFavorite(e.id),r=f()(t.profile,"favoriteList",[]),r=Array.isArray(r)?r:[],t.isLoading=!0,n.next=11,m.b.child("user-".concat(t.profile.userId)).set(Object(i.a)({},t.profile,{favoriteList:t.isFavorite(e.id)?r.filter((function(t){return t.id!==e.id})):r.concat(e)}));case 11:return t.$g_logEvent("Click",(a?"移除我的最愛: ":"加到我的最愛: ")+e.name,"Favorite Button"),n.next=14,t.updateProfile();case 14:n.next=20;break;case 16:n.prev=16,n.t0=n.catch(4),t.$ga.exception(n.t0.message);case 20:return n.prev=20,t.isLoading=!1,n.finish(20);case 23:case"end":return n.stop()}}),n,null,[[4,16,20,23]])})))()},goBangumi:function(e){this.$router.push({name:"Bangumi",params:{id:e.id},query:{name:e.name}}),this.$g_logEvent("Click","前往 ".concat(e.name),"Bangumi More")},initIntro:function(){var e=this,t=function(){var e=g()();return e.setOptions({nextLabel:"下一個",prevLabel:"上一個",skipLabel:"略過",doneLabel:"我知道了！",exitOnOverlayClick:!1,showBullets:!0,hidePrev:!0,hideNext:!0}),e}();t.setOptions({steps:[{element:"#js-step1",intro:'\n              <div>點「<i class="el-icon-more"></i>」圖示可進入詳細頁面，下載動畫</div>\n            '},{element:"#js-step2",intro:'\n              <div>點「<i class="el-icon-star-on"></i>」圖示可將動畫加入我的最愛</div>\n              <span class="little-text">使用此功能必須要登入</span>\n            '},{element:"#js-step3",intro:"\n              <div>輸入動畫名稱的關鍵字可快速搜尋</div>\n            "},{element:"#js-step4",intro:'\n              <div>可切換是否只顯示已被加入「我的最愛」之動畫</div>\n              <span class="little-text">使用此功能必須要登入</span>\n            ',highlightClass:"dark"},{element:"#js-step5",intro:'\n              <div>想再看一次本說明可以點「<i class="el-icon-question"></i>」圖示</div>\n            '}]}),t.oncomplete((function(){var t,n;e.$g_logEvent("教學","教學 Complete","「".concat(null!==(t=null===(n=e.profile)||void 0===n?void 0:n.displayName)&&void 0!==t?t:"--","」閱讀完教學了"))})),t.onexit((function(){e.isIntroMode=!1,window.localStorage.setItem("liff-anime1:home-intro","1")})),this.$nextTick((function(){t.start()}))}})},h=(n("d9ab"),n("2877")),j=Object(h.a)(b,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home__wrapper"},[n("div",{staticClass:"home__search"},[n("el-input",{attrs:{id:"js-step3","suffix-icon":"el-icon-search",placeholder:"請輸入關鍵字搜尋",readonly:e.isIntroMode},on:{blur:function(t){return e.$g_logEvent("Blur","搜尋 "+e.keyword,"Search Input")}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.$g_logEvent("Keyup Enter","搜尋 "+e.keyword,"Search Input")}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),n("div",{staticClass:"flex-between margin-t-10",attrs:{id:"js-step4"}},[e.isLoggedIn||e.isIntroMode?n("el-switch",{attrs:{"active-color":"#cc2f2d","active-text":"只顯示老子愛的"},on:{click:function(t){return e.$g_logEvent("Click","切換列表顯示","Switch")}},model:{value:e.onlyShowFavorite,callback:function(t){e.onlyShowFavorite=t},expression:"onlyShowFavorite"}}):n("div",{staticClass:"tip"},[e._v("登入就可以使用「我的最愛」囉")])],1)],1),n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticClass:"home__list",attrs:{"element-loading-background":"rgba(0, 0, 0, 0.7)"}},[e.isIntroMode?e._l(5,(function(t){return n("el-card",{key:t,staticClass:"margin-b-10",attrs:{shadow:"none"}},[n("div",{staticClass:"home__card"},[n("div",{staticClass:"flag",class:{"is-favorite":t<=1},attrs:{id:"js-step2"}},[n("i",{class:t<=1?"el-icon-star-on":"el-icon-star-off"})]),n("div",{staticClass:"name"},[n("div",[e._v("少年動畫 第"+e._s(t)+"季")]),n("span",{staticClass:"little-text"},[e._v("連載中 (第2324353253423948"+e._s(t)+"話)")])]),n("span",{staticClass:"more",attrs:{id:"js-step1"}},[n("i",{staticClass:"el-icon-more"})])])])})):n("RecycleScroller",{staticClass:"scroller",attrs:{items:e.filterItems,"key-field":"id","min-item-size":65},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.item,i=t.index,r=t.active;return[n("el-card",{class:{"is-odd":i%2==0,"is-active":r},attrs:{shadow:"none"}},[n("div",{staticClass:"home__card"},[n("div",{staticClass:"flag",class:{"is-favorite":e.isFavorite(a.id)},on:{click:function(t){return e.toggleFavorite(a)}}},[n("i",{class:e.isFavorite(a.id)?"el-icon-star-on":"el-icon-star-off"})]),n("div",{staticClass:"name"},[n("div",[e._v(e._s(a.name))]),n("span",{staticClass:"little-text"},[e._v(e._s(a.description))])]),n("span",{staticClass:"more",on:{click:function(t){return e.goBangumi(a)}}},[n("i",{staticClass:"el-icon-more"})])])])]}}])})],2),n("div",{staticClass:"home__intro",attrs:{id:"js-step5"},on:{click:function(t){e.isIntroMode=!0}}},[n("i",{staticClass:"el-icon-question"})])])}),[],!1,null,"070b5c6b",null);t.default=j.exports},c607:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t),n("96cf");var a=n("1da1"),i=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("2b0e")),r=n("5530"),o=n("2f62"),s=n("37c9"),c={metaInfo:function(){return{title:this.$route.meta.label,titleTemplate:"%s  |  \b( ͡° ͜ʖ ͡°)"}},data:function(){return{DIALOG_DEFAULT_PROPS:s.a,showLoginDialog:!1}},computed:Object(r.a)({},Object(o.c)({isLoading:"isLoading",isLoggedIn:"isLoggedIn",profile:"profile"})),mounted:function(){},methods:{lineLogin:function(){this.$g_logEvent("Click","登入","Login Button"),window.liff.login({redirectUri:window.location.href})},onClickAvatar:function(){this.$g_logEvent("Click",this.isLoggedIn?"Hi, ".concat(this.profile.displayName):"登入","Avatar"),this.isLoggedIn?this.$router.push({name:"Admin"}).catch((function(e){})):this.showLoginDialog=!0}}},u=(n("5c0b"),n("2877")),l=Object(u.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"loader loader-default",class:{"is-active":e.isLoading},attrs:{"data-half":""}}),n("div",{staticClass:"wrapper"},[n("div",{staticClass:"main-content"},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view",{on:{onLogin:function(t){e.showLoginDialog=!0}}})],1)],1),n("footer",[e._v("版權沒有🤔 © 2020 clipwww.github.io")])]),n("div",{staticClass:"profile",on:{click:e.onClickAvatar}},[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Hi, "+e.profile.displayName,placement:"left",disabled:!e.isLoggedIn}},[n("el-avatar",{attrs:{src:e.profile.pictureUrl}})],1)],1),n("el-dialog",e._b({attrs:{visible:e.showLoginDialog,title:"您尚未登入唷",width:"95%"},on:{"update:visible":function(t){e.showLoginDialog=t},close:function(t){return e.$g_logEvent("Close","關閉登入視窗","Close Login Dialog")}}},"el-dialog",e.DIALOG_DEFAULT_PROPS,!1),[n("el-button",{attrs:{type:"success"},on:{click:e.lineLogin}},[e._v("現在就去登入Line")]),n("el-button",{attrs:{type:"danger"},on:{click:function(t){e.showLoginDialog=!1}}},[e._v("晚點再說")])],1)],1)}),[],!1,null,null,null).exports,d=n("8c4f"),f=n("bb51"),m=(n("99af"),n("d3b7"),function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return a?function(){return n("1a5d")("./".concat(e).concat(t?"/index":"",".vue"))}:n("feca")("./".concat(e).concat(t?"/index":"",".vue")).default});i.default.use(d.a);var p=[{path:"/",name:"Home",component:f.default,meta:{label:"Anime1 動畫列表"}},{path:"/bangumi/:id",name:"Bangumi",component:m("Bangumi")},{path:"/admin",name:"Admin",component:m("Admin/Layout"),redirect:{name:"AdminDashboard"},meta:{auth:!0,label:"後台"},children:[{path:"",name:"AdminDashboard",component:m("Admin/Dashboard"),meta:{auth:!0,label:"Dashboard"}},{path:"user",name:"AdminUser",component:m("Admin/User"),meta:{auth:!0,label:"使用者"}},{path:"bangumi",name:"AdminBangumi",component:m("Admin/Bangumi"),meta:{auth:!0,label:"暫存資料"}}]},{path:"*",redirect:"/"}],g=new d.a({mode:"history",base:"/liff-anime1/",routes:p}),v=n("0613"),b=n("0284"),h=n.n(b);i.default.use(h.a,{id:"UA-93335284-4",router:g,autoTracking:{exception:!0,exceptionLogs:!1}}),i.default.mixin({methods:{$g_logEvent:function(e,t,n){try{i.default.$ga.event(e,t,n)}catch(e){}}}}),n("39fa"),n("4de4");var j=n("c1df"),w=n.n(j),_=n("9b02"),y=n.n(_);i.default.use((function(e,t){e.filter("formatDate",(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e?w()(e).format(t?"YYYY/MM/DD HH:mm":"YYYY/MM/DD"):""})),e.filter("commafy",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;try{return(+e).toLocaleString(void 0,{maximumFractionDigits:t})}catch(t){return e}})),e.filter("_get",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return y()(e,t,n)}))}));var k=n("58ca");i.default.use(k.a,{refreshOnceOnNavigation:!0}),g.beforeEach(function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(t,n,a){var i,r,o,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v.a.dispatch("updateLoggedIn"),(i=v.a.state.isLoggedIn)&&v.a.dispatch("updateProfile"),!t.meta.auth){e.next=7;break}if(c=null!==(r=null===(o=v.a.state)||void 0===o?void 0:null===(s=o.profile)||void 0===s?void 0:s.userId)&&void 0!==r?r:"",i&&"U383c9cfcab2d0d16ded2f96ec4337962"===c){e.next=7;break}return e.abrupt("return",a({name:"Home"}));case 7:a();case 8:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}());var L=n("5c96"),x=window.liff,C=function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="1557984400-kyGZywOP"){e.next=5;break}return Object(L.Notification)({title:"Oops",message:"缺少Liff Id，請檢查.env"}),e.abrupt("return");case 5:return e.prev=5,e.next=8,x.init({liffId:t});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),Object(L.Notification)({title:"Oops",message:e.t0.message});case 13:case 14:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(){return e.apply(this,arguments)}}();n("a41b"),i.default.config.productionTip=!1,Object(a.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:i.default.config.productionTip=!1,new i.default({router:g,store:v.a,render:function(e){return e(l)}}).$mount("#app");case 4:case"end":return e.stop()}}),e)})))()},d3c0:function(e,t,n){},d831:function(e,t,n){e.exports=n.p+"img/pepe.375efe50.jpeg"},d9ab:function(e,t,n){"use strict";var a=n("c607");n.n(a).a},feca:function(e,t,n){var a={"./Admin/Bangumi.vue":"0e7e","./Admin/Dashboard.vue":"a761","./Admin/Layout.vue":"a8f3","./Admin/User.vue":"7455","./Bangumi.vue":"65d2","./Home.vue":"bb51"};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=r,e.exports=i,i.id="feca"}});